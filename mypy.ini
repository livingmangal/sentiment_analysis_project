[mypy]
python_version = 3.12
strict = true
warn_return_any = true
warn_unused_ignores = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
ignore_missing_imports = true
exclude = tests|venv|\.git|app/database\.py

# Per-module configuration
[mypy-transformers.*]
ignore_missing_imports = true

[mypy-torch.*]
ignore_missing_imports = true

[mypy-langdetect.*]
ignore_missing_imports = true

[mypy-sklearn.*]
ignore_missing_imports = true

[mypy-flask.*]
ignore_missing_imports = true

[mypy-flask_cors.*]
ignore_missing_imports = true

[mypy-flask_limiter.*]
ignore_missing_imports = true

[mypy-sqlalchemy.*]
ignore_missing_imports = true

# Ignore quantization attr-defined errors (known torch typing limitation)
[mypy-src.predict]
disable_error_code = attr-defined

[mypy-src.predict_multilingual]
disable_error_code = attr-defined
